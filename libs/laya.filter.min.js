!function(t,e,i){var r=(i.un,i.uns,i["static"],i["class"]),a=i.getset,n=(i.__newvec,laya.renders.Render),l=laya.maths.Matrix,s=laya.utils.Color,u=laya.utils.RunDriver,c=laya.webgl.submit.SubmitCMD,o=laya.filters.Filter,h=(laya.utils.Browser,laya.display.Sprite,laya.webgl.shader.d2.value.Value2D),d=(laya.maths.Rectangle,laya.renders.RenderContext,laya.webgl.shader.d2.ShaderDefines2D,laya.webgl.submit.SubmitCMDScope,laya.filters.webgl.FilterActionGL),f=laya.webgl.resource.RenderTarget2D,_=laya.resource.Texture,g=laya.webgl.canvas.BlendMode,y=laya.filters.webgl.ColorFilterActionGL,b=laya.filters.ColorFilterAction,p=function(){function t(){this.data=null}r(t,"laya.filters.FilterAction");var e=t.prototype;return i.imps(e,{"laya.filters.IFilterAction":!0}),e.apply=function(t){return null},t}(),w=function(){function t(){}return r(t,"laya.filters.WebGLFilter"),t.enable=function(){t.isInit||(t.isInit=!0,n.isWebGL&&(u.createFilterAction=function(t){var e;switch(t){case 32:e=new y;break;case 16:e=new x;break;case 8:e=new v}return e}))},t.isInit=!1,t.__init$=function(){u.createFilterAction=function(t){var e;switch(t){case 16:e=new p;break;case 8:e=new p;break;case 32:e=new b}return e}},t}(),x=(function(t){function e(t){this.strength=NaN,e.__super.call(this),void 0===t&&(t=4),n.isWebGL&&w.enable(),this.strength=t,this._action=u.createFilterAction(16),this._action.data=this}r(e,"laya.filters.BlurFilter",t);var i=e.prototype;return a(0,i,"action",function(){return this._action}),a(0,i,"type",function(){return 16}),e}(o),function(t){function e(t,i,r,a){this._color=null,e.__super.call(this),this._elements=new Float32Array(9),void 0===i&&(i=4),void 0===r&&(r=6),void 0===a&&(a=6),n.isWebGL&&w.enable(),this._color=new s(t),this.blur=i,this.offX=r,this.offY=a,this._action=u.createFilterAction(8),this._action.data=this}r(e,"laya.filters.GlowFilter",t);var i=e.prototype;return i.getColor=function(){return this._color._color},a(0,i,"type",function(){return 8}),a(0,i,"action",function(){return this._action}),a(0,i,"offX",function(){return this._elements[5]},function(t){this._elements[5]=t}),a(0,i,"offY",function(){return this._elements[6]},function(t){this._elements[6]=t}),a(0,i,"blur",function(){return this._elements[4]},function(t){this._elements[4]=t}),e}(o),function(t){function e(){this.data,e.__super.call(this)}r(e,"laya.filters.webgl.BlurFilterActionGL",t);var i=e.prototype;return i.setValueMix=function(t){t.defines.add(this.data.type)},i.apply3d=function(t,e,i,r,a){var n=t.getValue("bounds"),s=h.create(1,0);s.setFilters([this.data]);var u=l.EMPTY;u.identity(),i.ctx.drawTarget(t,0,0,n.width,n.height,l.EMPTY,"src",s),s.setFilters(null)},i.setValue=function(t){t.strength=this.data.strength},a(0,i,"typeMix",function(){return 16}),e}(d)),v=function(t){function e(){this.data=null,this._initKey=!1,this._textureWidth=0,this._textureHeight=0,e.__super.call(this)}r(e,"laya.filters.webgl.GlowFilterActionGL",t);var n=e.prototype;return i.imps(n,{"laya.filters.IFilterActionGL":!0}),n.setValueMix=function(t){},n.apply3d=function(t,i,r,a,n){var s=t.getValue("bounds"),u=s.width,o=s.height;this._textureWidth=u,this._textureHeight=o;var d=c.create([t,i,r,0,0],e.tmpTarget);r.ctx.addRenderObject(d);var f,y=l.TEMP;return y.identity(),f=h.create(1,0),f.setFilters([this.data]),r.ctx.drawTarget(t,0,0,this._textureWidth,this._textureHeight,y,"src",f,null,g.TOINT.overlay),d=c.create([t,i,r,0,0],e.startOut),r.ctx.addRenderObject(d),f=h.create(1,0),r.ctx.drawTarget(t,0,0,this._textureWidth,this._textureHeight,y,"tmpTarget",f,_.INV_UV,g.TOINT.overlay),f=h.create(1,0),r.ctx.drawTarget(t,0,0,this._textureWidth,this._textureHeight,y,"src",f),d=c.create([t,i,r,0,0],e.recycleTarget),r.ctx.addRenderObject(d),null},n.setSpriteWH=function(t){this._textureWidth=t.width,this._textureHeight=t.height},n.setValue=function(t){t.u_offsetX=this.data.offX,t.u_offsetY=-this.data.offY,t.u_strength=1,t.u_blurX=this.data.blur,t.u_blurY=this.data.blur,t.u_textW=this._textureWidth,t.u_textH=this._textureHeight,t.u_color=this.data.getColor()},a(0,n,"typeMix",function(){return 8}),e.tmpTarget=function(t,e,i,r,a){var n=t.getValue("bounds"),l=t.getValue("out");l.end();var s=f.create(n.width,n.height);s.start(),s.clear(0,0,0,0),t.addValue("tmpTarget",s)},e.startOut=function(t,e,i,r,a){var n=t.getValue("tmpTarget");n.end();var l=t.getValue("out");l.start(),l.clear(0,0,0,0)},e.recycleTarget=function(t,e,i,r,a){var n=(t.getValue("src"),t.getValue("tmpTarget"));n.recycle()},e}(d);i.__init([w])}(window,document,Laya);